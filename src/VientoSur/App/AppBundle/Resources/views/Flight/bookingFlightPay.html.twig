{% extends '@VientoSurAppApp/layoutFlight.html.twig' %}

{% block content %}
    <div class="container formBooking">
        <div class="row">
            <div class="gap"></div>

            <div class="col-md-7 col-md-push-5">
                {{ form_start(formNewPay, {'attr': {'class': 'booking-form'}}) }}

                <!--Pasajeros-->
                <div class="panel panel-primary">
                    <div class="panel-heading">Pasajeros</div>
                    <div class="panel-body">
                        {% for i in 1..formChoice.passengers.adults[0].metadata.quantity %}
                            {% if loop.index0 > 0 %}
                                <hr/>
                            {% endif %}
                            <h5>Adulto {{ loop.index }}</h5>

                            <div class="row">
                                <div class="col-md-6">
                                    {% set fieldName = 'adults-first_name' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Nombre(s):', 'attr': {'placeholder': 'Como aparece en el documento de viaje', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'adults-last_name' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Apellido(s):', 'attr': {'placeholder': 'Como aparece en el documento de viaje', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'adults-nationality' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Residencia:', 'attr': {'class': 'form-control'}}) }}
                                </div>

                                {% set fieldName = 'adults-type' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined  %}
                                <div class="col-md-3">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Tipo:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'adults-number' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined  %}
                                <div class="col-md-3">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Número:', 'attr': {'placeholder': 'Como aparece en el documento', 'class': 'form-control'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'adults-birthdate' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined  %}
                                <div class="col-md-6">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Fecha de nacimiento:', 'attr': {'placeholder': 'dd/mm/aaaa', 'class': 'form-control birth-input'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'adults-gender' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined  %}
                                <div class="col-md-6">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Sexo:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                {% endif %}
                            </div>
                        {% endfor %}

                        {% if formChoice.passengers.children is defined %}
                        {% for i in 1..formChoice.passengers.children[0].metadata.quantity %}
                            {% if loop.index0 > 0 %}
                                <hr/>
                            {% endif %}
                            <h5>Niño {{ loop.index }}</h5>

                            <div class="row">
                                <div class="col-md-6">
                                    {% set fieldName = 'children-first_name' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Nombre(s):', 'attr': {'placeholder': 'Como aparece en el documento de viaje', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'children-last_name' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Apellido(s):', 'attr': {'placeholder': 'Como aparece en el documento de viaje', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'children-nationality' ~ loop.index %}
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Residencia:', 'attr': {'class': 'form-control'}}) }}
                                </div>

                                {% set fieldName = 'children-type' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined %}
                                <div class="col-md-3">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Tipo:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'children-number' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined %}
                                <div class="col-md-3">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Número:', 'attr': {'placeholder': 'Como aparece en el documento', 'class': 'form-control'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'children-birthdate' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined %}
                                <div class="col-md-6">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Fecha de nacimiento:', 'attr': {'placeholder': 'dd/mm/aaaa', 'class': 'form-control birth-input'}}) }}
                                </div>
                                {% endif %}

                                {% set fieldName = 'children-gender' ~ loop.index %}
                                {% if attribute(formNewPay.passengers, fieldName) is defined %}
                                <div class="col-md-6">
                                    {{ form_row(attribute(formNewPay.passengers, fieldName), {'label': 'Sexo:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                {% endif %}
                            </div>
                        {% endfor %}
                        {% endif %}
                    </div>
                </div>
                <!--/Pasajeros-->

                <div class="alert alert-info" role="alert">Para seleccionar una tarjeta haga click sobre ella, en caso de un banco se desplegará un listado con las tarjetas.</div>
                <!--Formas de pago-->
                <div class="panel panel-primary">
                    <div class="panel-heading">Formas de pago</div>
                    <div class="panel-body">
                        <div class="list-group">
                            {% for cuotas, bank in paymentMethods %}
                            <a href="javascript:void(0)" class="list-group-item">
                                <h4 class="list-group-item-heading">
                                    <input type="radio" name="paymentOption" value="{{ cuotas }}" required>
                                    <b style="font-weight: bold !important;">{{ cuotas }}</b> Cuota{% if cuotas > 1 %}s{% endif %}
                                </h4>
                                <p class="list-group-item-text">
                                    <div class="radio">
                                    <div class="card-list credit-cards">
                                    {% for key, cards in bank %}
                                            {% if key == 'generic' %}
                                                {% for card in cards  %}
                                                    <label class="card-selector vs-cs-label">
                                                        <div class="eva-card-container clickable-card"
                                                             data-card-id="{{ card.card_code }}" data-card-code="{{ card.generic_card_code }}">
                                                            <span class="eva-card-body {{ card.card_code }}"></span>
                                                        </div>
                                                    </label>
                                                {% endfor %}
                                            {% else %}
                                                <div class="eva-card-container clickable-bank" data-trigger="focus" tabindex="0" role="button" id="{{ loop.parent.loop.index }}-{{ key }}">
                                                    <span class="eva-card-body {{ key }}"></span>
                                                    <div class="card-content hide">
                                                        {% for card in cards  %}
                                                            <div class="eva-card-container clickable-card" data-card-id="{{ card.card_code }}" data-card-code="{{ card.generic_card_code }}" data-bank-code="{{ card.bank_code }}" data-parent-id="{{ loop.parent.loop.parent.loop.index }}-{{ key }}">
                                                                <span class="eva-card-body {{ card.generic_card_code }}"></span>
                                                            </div>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            {% endif %}
                                    {% endfor %}
                                    </div>
                                    </div>
                                </p>
                            </a>
                            {% endfor %}
                        </div>

                        {% for credit_card in formChoice.payments.credit_cards %}
                            <div class="row">
                                <div class="col-md-4">
                                    {% set fieldName = 'card-type' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Tarjeta seleccionada:', 'attr': {'class': 'hidden'}}) }}
                                    <input type="text" value="" id="card-selected" class="form-control" readonly>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    {% set fieldName = 'card-number' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Número de Tarjeta:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-4">
                                    {% set fieldName = 'card-security_code' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Código de seguridad:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-4">
                                    {% set fieldName = 'card-expiration' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Vencimiento:'}) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    {% set fieldName = 'card-card_holder_name' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Titular de la tarjeta:', 'attr': {'placeholder': 'Como aparece en la tarjeta', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-4">
                                    {% set fieldName = 'card_holder_identification-type' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Tipo:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-4">
                                    {% set fieldName = 'card_holder_identification-number' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Número de documento:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-4">
                                    {% set fieldName = 'card_holder_identification-number' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Número de documento:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>
                            {#<div class="row">#}
                                {#<div class="col-md-6">#}
                                    {#{{ dump(credit_card) }}#}
                                {#</div>#}
                            {#</div>#}
                            {{ form_widget(attribute(formNewPay.payments, 'card-token0'), { 'attr': {'class': 'hidden'}, 'value' : formChoice.payments.credit_cards[0].card.token.metadata.public_key }) }}
                            {{ form_widget(attribute(formNewPay.payments, 'card_code0'), { 'attr': {'class': 'hidden'} }) }}
                            {{ form_widget(attribute(formNewPay.payments, 'installments0'), { 'attr': {'class': 'hidden'} }) }}

                            {{ form_widget(attribute(formNewPay.payments, 'session_id'), { 'value' : riskAnalysis.sessionId }) }}
                        {% endfor %}
                    </div>
                </div>
                <!--/Formas de pago-->

                <!--Facturación-->
                <div class="panel panel-primary">
                    <div class="panel-heading">Datos para facturación</div>
                    <div class="panel-body">
                        {% for invoice in formChoice.payments.credit_cards %}
                            <div class="row">
                                <div class="col-md-4">
                                    {% set fieldName = 'invoice-fiscal_status' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Situación fiscal:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'invoice-fiscal_id' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'CUIL:', 'attr': {'placeholder': 'Ej: 20-00000000-3', 'class': 'form-control', 'pattern': '^(20|27|30|23|33|24|34)(-|)[0-9]{8}(-|)[0-9]$', 'title': 'Debe coincidir con el patrón: Ej: 20-12345678-4'}}) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    {% set fieldName = 'invoice-state' ~ loop.index0 %}
                                    {{ form_label(attribute(formNewPay.payments, fieldName), 'Provincia:') }}
                                    <select id="select-state" class="form-control">
                                        <option value="">Seleccione...</option>
                                        <option value="14061">Buenos Aires</option>
                                        <option value="30078">Catamarca</option>
                                        <option value="30083">Chaco</option>
                                        <option value="12344">Chubut</option>
                                        <option value="13028">Córdoba</option>
                                        <option value="13662">Corrientes</option>
                                        <option value="12548">Entre Ríos</option>
                                        <option value="10047">Formosa</option>
                                        <option value=30081"">Jujuy</option>
                                        <option value="30082">La Pampa</option>
                                        <option value="31654">La Rioja</option>
                                        <option value="11817">Mendoza</option>
                                        <option value="11542">Misiones</option>
                                        <option value="10968">Neuquén</option>
                                        <option value="13435">Río Negro</option>
                                        <option value="12738">Salta</option>
                                        <option value="10222">San Juan</option>
                                        <option value="30080">San Luis</option>
                                        <option value="11343">Santa Cruz</option>
                                        <option value="10309">Santa Fe</option>
                                        <option value="13857">Santiago del Estero</option>
                                        <option value="30079">Tierra del Fuego</option>
                                        <option value="14052">Tucumán</option>
                                    </select>
                                    {{ form_widget(attribute(formNewPay.payments, fieldName) , {'attr': {'class': 'hidden'}}) }}
                                    {{ form_errors(attribute(formNewPay.payments, fieldName)) }}
                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'invoice-city_id' ~ loop.index0 %}
                                    {#{{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Ciudad:', 'attr': {'placeholder': 'Escriba para completar', 'class': 'form-control'}}) }}#}

                                    {{ form_label(attribute(formNewPay.payments, fieldName), 'Ciudad:') }}
                                    <input type="text" id="autocomplete-city" data-provide="typeahead" placeholder="Seleccione la Provincia" readonly required autocomplete="off" class="form-control" />
                                    {{ form_widget(attribute(formNewPay.payments, fieldName) , {'attr': {'class' : 'hidden'}}) }}
                                    {{ form_errors(attribute(formNewPay.payments, fieldName)) }}

                                </div>
                                <div class="col-md-6">
                                    {% set fieldName = 'invoice-street' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Calle:', 'attr': {'placeholder': '', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-2">
                                    {% set fieldName = 'invoice-number' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Número:', 'attr': {'placeholder': '', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-2">
                                    {% set fieldName = 'invoice-floor' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Piso:', 'attr': {'placeholder': '', 'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-2">
                                    {% set fieldName = 'invoice-department' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Depto:', 'attr': {'placeholder': '', 'class': 'form-control'}}) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    {% set fieldName = 'invoice-business_name' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.payments, fieldName), {'label': 'Nombre comercial:', 'attr': {'placeholder': 'Personas naturales colocar nombre', 'class': 'form-control'}}) }}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <!--/Facturación-->

                <!--Contacto-->
                <div class="panel panel-primary">
                    <div class="panel-heading">Datos de Contacto</div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-6">
                                {{ form_row(attribute(formNewPay.contact_info, 'email-'), {'label': 'Email:', 'attr': {'placeholder': 'Ingrese su email', 'class': 'form-control'}}) }}
                            </div>
                            <div class="col-md-6">
                                {#<div>#}
                                    {#<label for="form_contact_info_email-" class="required">Confirme su Email:</label>#}
                                    {#<input type="email" id="form_contact_info_email-1" name="form[contact_info][email-1]" required="required" placeholder="Confirme su email" class="form-control">#}
                                {#</div>#}
                            </div>
                        </div>
                        {% for phone in formChoice.contact_info.phones %}
                            <div class="row">
                                <div class="col-md-3">
                                    {% set fieldName = 'phones-type' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.contact_info, fieldName), {'label': 'Teléfono:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-3">
                                    {% set fieldName = 'phones-country_code' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.contact_info, fieldName), {'label': 'País:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-2">
                                    {% set fieldName = 'phones-area_code' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.contact_info, fieldName), {'label': 'Área:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                                <div class="col-md-2">
                                    {% set fieldName = 'phones-number' ~ loop.index0 %}
                                    {{ form_row(attribute(formNewPay.contact_info, fieldName), {'label': 'Número:', 'attr': {'class': 'form-control'}}) }}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <!--/Contacto-->

                <div class="gap"></div>
                <div class="mod-searchbutton">
                    <button class="btn btn-primary btn-lg" type="submit">Comprar</button>
                    <span>Por favor, antes de finalizar, revise los datos ingresados.</span>
                </div>
                <div class="gap"></div>
                {{ form_rest(formNewPay) }}
                {{ form_end(formNewPay) }}
                {{ form_errors(formNewPay) }}
                {#{{ dump(formNewPay) }}#}
                {#{{ dump(formChoice) }}#}
                {#{{ dump(paymentMethods) }}#}
            </div>

            <div class="col-md-5 col-md-pull-7">
                <div class="content-sidebar">
                    <div class="booking-item-dates-change mb5">
                        <h5><b>Detalle de su compra</b></h5>
                        <div class="row alert alert-warning">
                            <div class="col-md-offset-1 col-md-10 ">
                                <div class="row" style="font-size: 2rem; padding-bottom: 10px">
                                    <span style="float: left;">Tarifa por adulto</span>
                                    <span style="float: right;">{{ itineraryDetail.price_detail.adult_base | number_format(2, ',', '.') }}</span>
                                    <span style="float: right;">$ </span>
                                </div>
                                <div class="row">
                                    <span style="float: left;">Adulto</span>
                                    <span style="float: left;padding-left: 3px">({{ itineraryDetail.passenger_distribution.adults }})</span>
                                    <span style="float: right;">{{ itineraryDetail.price_detail.base | number_format(2, ',', '.') }}</span>
                                    <span style="float: right;">$ </span>
                                </div>

                                {% if itineraryDetail.passenger_distribution.children > 0 %}
                                    <div class="row">
                                        <span style="float: left;">Niño</span>
                                        <span style="float: left;padding-left: 3px">({{ itineraryDetail.passenger_distribution.children }})</span>
                                        <span style="float: right;">{{ itineraryDetail.price_detail.children_subtotal | number_format(2, ',', '.') }}</span>
                                        <span style="float: right;">$ </span>
                                    </div>
                                {% endif %}

                                <div class="row">
                                    <span style="float: left;">Impuestos y tasas</span>
                                    <span style="float: right;">{{ itineraryDetail.price_detail.taxes | number_format(2, ',', '.') }}</span>
                                    <span style="float: right;">$ </span>
                                </div>
                                <div class="row">
                                    <span style="float: left;">Cargos</span>
                                    <span style="float: right;">{{ itineraryDetail.price_detail.fees | number_format(2, ',', '.') }}</span>
                                    <span style="float: right;">$ </span>
                                </div>
                                <div class="row" style="padding-top: 2rem; border-top: 1px solid #000;">
                                    <span class="label-total" style="float: left;font-size: 2rem; text-align: left; text-transform: uppercase"><b>Total</b></span>
                                    <span style="float: right;font-size: 3rem"><b>{{ itineraryDetail.price_detail.total | number_format(2, ',', '.') }}</b></span>
                                    <span style="float: right; font-size: 2rem;padding-right: 3px;"><b>$</b></span>
                                </div>
                                {#<div class="row" style="padding-top: 2rem">
                                    <button style="float: right; " class="btn btn-primary btn-lg" type="submit">Comprar</button>
                                </div>#}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="header-outbound">
                                    <span style="float: left; padding-right: 4px"> <i class="fa fa-plane"></i></span>
                                    <span> <b>IDA</b> </span>
                                    {% if itineraryDetail.outbound_choices[0].segments | length < 1 %}
                                        <span style="float: right">PARADA {{ itineraryDetail.outbound_choices[0].segments | length }}</span>

                                    {% else %}
                                        <span style="float: right">{{ itineraryDetail.outbound_choices[0].segments | length -1}} PARADAS</span>

                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="outbound">
                            {% if itineraryDetail.outbound_choices[0].segments | length > 0 %}
                            {% for item in itineraryDetail.outbound_choices[0].segments %}
                                <div class="row">
                                    <div class="segment-header col-md-12">
                                        <span>{{ item.cabin_type | capitalize }}</span>
                                    </div>
                                </div>
                                <div class="row">
                                    {# Salida #}
                                    <div class="flight-details-container col-md-5 align-center">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-label">Salida</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-city-code">{{ item.from }}</span>
                                            </div>
                                        </div>
                                        {#<div class="row">
                                            <div class="col-md-12">
                                                <span class="item-location-code">Buenos Aires</span>
                                            </div>
                                        </div>#}
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-date">{{ item.departure_datetime | date("D d F Y") }}</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-time">{{ item.departure_datetime | date("H:i") }}</span>
                                            </div>
                                        </div>
                                    </div>

                                    {# Vuelo #}
                                    <div class="col-md-2 align-center media-middle">

                                        <div class="row">
                                            <div class="col-md-12 airline-data-col">
                                                <img src="http://ar.staticontent.com/flights-images/2.1.12/dist/common/airlines/25x25/{{ item.airline }}.png" title="{#{{ airlineNames[segment.airline] }}#}" />
                                                <span class="airline-data">{{ item.flight_id }}</span>
                                            </div>
                                        </div>

                                    </div>

                                    {# Llegada #}
                                    <div class="flight-details-container col-md-5 align-center">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-label">Llegada</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-city-code">{{ item.to }}</span>
                                            </div>
                                        </div>
                                        {#<div class="row">
                                            <div class="col-md-12">
                                                <span class="item-location-code">Buenos Aires</span>
                                            </div>
                                        </div>#}
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-date">{{ item.arrival_datetime | date("D d F Y") }}</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="item-time">{{ item.arrival_datetime | date("H:i") }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 alert alert-warning">
                                        <span style="float: left">Tiempo de espera</span>
                                    </div>
                                </div>
                            {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    {% if itineraryDetail.inbound_choices is defined %}
                    <div class="booking-item-dates-change mb5">
                        <div class="row">
                            <div class="cold-md-12">
                                <div class="header-outbound">
                                    <span style="float: left; padding-right: 4px"> <i class="fa fa-plane fa-flip-horizontal"></i></span>
                                    <span> <b>VUELTA</b> </span>
                                    {% if itineraryDetail.inbound_choices[0].segments| length < 1 %}
                                        <span class="pull-right">PARADA {{ itineraryDetail.inbound_choices[0].segments| length }}</span>
                                    {% else %}
                                        <span class="pull-right">{{ itineraryDetail.inbound_choices[0].segments| length -1}} PARADAS</span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="outbound">
                            {% if itineraryDetail.inbound_choices[0].segments| length > 0 %}
                                {% for item in itineraryDetail.inbound_choices[0].segments%}
                                    <div class="row">
                                        <div class="segment-header col-md-12">
                                            <span>{{ item.cabin_type | capitalize }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        {# Salida #}
                                        <div class="flight-details-container col-md-5 align-center">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-label">Salida</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-city-code">{{ item.from }}</span>
                                                </div>
                                            </div>
                                            {#<div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-location-code">Buenos Aires</span>
                                                </div>
                                            </div>#}
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-date">{{ item.departure_datetime | date("D d F Y") }}</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-time">{{ item.departure_datetime | date("H:i") }}</span>
                                                </div>
                                            </div>
                                        </div>

                                        {# Vuelo #}
                                        <div class="col-md-2 align-center media-middle">

                                            <div class="row">
                                                <div class="col-md-12 airline-data-col">
                                                    <img src="http://ar.staticontent.com/flights-images/2.1.12/dist/common/airlines/25x25/{{ item.airline }}.png" title="{#{{ airlineNames[segment.airline] }}#}" />
                                                    <span class="airline-data">{{ item.flight_id }}</span>
                                                </div>
                                            </div>

                                        </div>

                                        {# Llegada #}
                                        <div class="flight-details-container col-md-5 align-center">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-label">Llegada</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-city-code">{{ item.to }}</span>
                                                </div>
                                            </div>
                                            {#<div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-location-code">Buenos Aires</span>
                                                </div>
                                            </div>#}
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-date">{{ item.arrival_datetime | date("D d F Y") }}</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <span class="item-time">{{ item.arrival_datetime | date("H:i") }}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 alert alert-warning">
                                            <span style="float: left">Tiempo de espera</span>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="gap"></div>
            <div class="errors">
                {#{{ dump(errors) }}#}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/vientosurappapp/js/card-payment.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/flight-payment-form.js?a=15') }}"></script>
    <script src="{{ asset('assets/vendor/intl-tel-input/build/js/intlTelInput.js') }}"></script>
    {#A#}
    <script src="https://h.online-metrix.net/fp/tags.js?org_id={{ riskAnalysis.a.orgId }}&session_id={{ riskAnalysis.sessionId }}"></script>
    <noscript>
        <iframe style="width: 100px; height: 100px; border: 0; position: absolute; top: -5000px;" src="https://h.online-metrix.net/tags?org_id={{ riskAnalysis.a.orgId }}&session_id={{ riskAnalysis.sessionId }}"></iframe>
    </noscript>
    {#B#}
    <script src="https://h.online-metrix.net/fp/tags.js?org_id={{ riskAnalysis.b.orgId }}&session_id={{ riskAnalysis.sessionId }}"></script>
    <noscript>
        <iframe style="width: 100px; height: 100px; border: 0; position: absolute; top: -5000px;" src="https://h.online-metrix.net/tags?org_id={{ riskAnalysis.b.orgId }}&session_id={{ riskAnalysis.sessionId }}"></iframe>
    </noscript>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('css/form-payment.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('css/cards-vertical.css') }}" rel="stylesheet" type="text/css"/>
    <link href="{{ asset('assets/vendor/intl-tel-input/build/css/intlTelInput.css') }}" rel="stylesheet" type="text/css"/>
{% endblock %}