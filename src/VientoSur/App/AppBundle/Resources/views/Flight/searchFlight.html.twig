<form name="searchFlight" id="search-flights" action="{{ path('viento_sur_process_search_flights', {'_locale': app.request.locale} ) }}" method="POST">
    <h2><b>{{ 'index.search.flight.title' | trans }}</b></h2>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                <label id="label-from">{{ 'index.search.flight.from' | trans }}</label>
                {% if isTest %}
                    <input class="form-control" id="from-flight" name="from-flight" data-provide="typeahead" placeholder="{{ 'index.search.flight.from_placeholder' | trans }}" type="text" value="{% if app.session.get('origin_flight').text is defined %}{{ app.session.get('origin_flight').text }}{% endif %}" />
                    <input id="originFlight" name="originFlight" type="hidden" value="{% if app.session.get('origin_flight').id is defined %}{{ app.session.get('origin_flight').id }}{% endif %}" />
                {% else %}
                    <input class="form-control" id="from-flight" name="from-flight" data-provide="typeahead" placeholder="{{ 'index.search.flight.from_placeholder' | trans }}" type="text" required value="{% if app.session.get('origin_flight').text is defined %}{{ app.session.get('origin_flight').text }}{% endif %}" />
                    <input id="originFlight" name="originFlight" type="hidden" value="{% if app.session.get('origin_flight').id is defined %}{{ app.session.get('origin_flight').id }}{% endif %}" />
                {% endif %}
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                <label id="label-to">{{ 'index.search.flight.to' | trans }}</label>
                {% if isTest %}
                    <input class="form-control" id="to-flight" name="to-flight" data-provide="typeahead" placeholder="{{ 'index.search.flight.to_placeholder' | trans }}" type="text" value="{% if app.session.get('destination_flight').text is defined %}{{ app.session.get('destination_flight').text }}{% endif %}" />
                    <input id="destinationFlight" name="destinationFlight" type="hidden" value="{% if app.session.get('destination_flight').id is defined %}{{ app.session.get('destination_flight').id }}{% endif %}" />
                {% else %}
                    <input class="form-control" id="to-flight" name="to-flight" data-provide="typeahead" placeholder="{{ 'index.search.flight.to_placeholder' | trans }}" type="text" required value="{% if app.session.get('destination_flight').text is defined %}{{ app.session.get('destination_flight').text }}{% endif %}" />
                    <input id="destinationFlight" name="destinationFlight" type="hidden" value="{% if app.session.get('destination_flight').id is defined %}{{ app.session.get('destination_flight').id }}{% endif %}" />
                {% endif %}
                <label for="multiple-destinations">
                    <span class="pull-right">
                        <a id="multiple-destinations">{{ 'index.search.flight.multiple_destinations' | trans }}</a>
                        <input type="hidden"  id="multipledestination" name="multipledestination" value=false>
                    </span>
                </label>
            </div>
        </div>
        <div>
            <div class="col-md-6">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-calendar input-icon input-icon-highlight"></i>
                    <label id="label-start">{{ 'index.search.flight.start' | trans }}</label>
                    <input class="form-control required" id="start-flight" name="start" type="text" required="" placeholder="dd/mm/yyyy" value="{{app.session.get('departure_date')}}" />
                </div>
            </div>
            <div class="col-md-6" id="div-end-flight">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-calendar input-icon input-icon-highlight"></i>
                    <label>
                        {{ 'index.search.flight.end' | trans }}
                        <span class="pull-right">
                            <input type="checkbox" id="only_out" name="only_out" value="true">
                            {{ 'index.search.flight.one_way' | trans }}
                        </span>
                    </label>
                    <input class="form-control required" id="end-flight" name="end" type="text" required="" placeholder="dd/mm/yyyy" value="{{app.session.get('return_date')}}" />
                    <input class="form-control hidden" id="dummy-end-flight" type="text" placeholder="{{ 'index.search.flight.one_way_placeholder' | trans }}" readonly />
                </div>
            </div>
        </div>
        <div class="wrapper col-md-12" style="display: none">
            <label class="multiple-destinations-label">Tramo 1</label>
            <div class="multiple-destinations-wrapper col-md-6">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                    <label>{{ 'index.search.flight.from' | trans }}</label>
                    <input class="form-control" id="multidestination-from-flight0" name="multidestination[0][from-flight]" data-provide="typeahead" placeholder="{{ 'index.search.flight.from_placeholder' | trans }}" type="text" value="{% if app.session.get('origin_flight').text is defined %}{{ app.session.get('origin_flight').text }}{% endif %}" />
                    <input id="multidestination-originFlight0" name="multidestination[0][originFlight]" type="hidden" value="{% if app.session.get('origin_flight').id is defined %}{{ app.session.get('origin_flight').id }}{% endif %}" />
                </div>
            </div>
            <div class="multiple-destinations-wrapper col-md-6">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                    <label>{{ 'index.search.flight.to' | trans }}</label>
                    <input class="form-control" id="multidestination-to-flight0" name="multidestination[0][to-flight]" data-provide="typeahead" placeholder="{{ 'index.search.flight.to_placeholder' | trans }}" type="text" value="{% if app.session.get('destination_flight').text is defined %}{{ app.session.get('destination_flight').text }}{% endif %}" />
                    <input id="multidestination-destinationFlight0" name="multidestination[0][destinationFlight]" type="hidden" value="{% if app.session.get('destination_flight').id is defined %}{{ app.session.get('destination_flight').id }}{% endif %}" />
                </div>
            </div>
            <div class="multiple-destinations-wrapper col-md-12">
                <div class="col-md-6">
                    <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-calendar input-icon input-icon-highlight"></i>
                        <label>{{ 'index.search.flight.start' | trans }}</label>
                        <input class="form-control required departure" id="start-flight0" name="multidestination[0][start]" type="text" placeholder="dd/mm/yyyy" value="{{app.session.get('departure_date')}}" />
                    </div>
                </div>
            </div>
        </div>
        <div class="wrapper col-md-12" style="display: none">
            <label class="multiple-destinations-label">Tramo 2</label>
            <div class="multiple-destinations-wrapper col-md-6">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                    <label>{{ 'index.search.flight.from' | trans }}</label>
                    <input class="form-control" id="multidestination-from-flight1" name="multidestination[1][from-flight]" data-provide="typeahead" type="text" />
                    <input id="multidestination-originFlight1" name="multidestination[1][originFlight]" type="hidden" value="" />
                </div>
            </div>
            <div class="multiple-destinations-wrapper col-md-6">
                <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-map-marker input-icon"></i>
                    <label>{{ 'index.search.flight.to' | trans }}</label>
                    <input class="form-control" id="multidestination-to-flight1" name="multidestination[1][to-flight]" data-provide="typeahead" type="text" />
                    <input id="multidestination-destinationFlight1" name="multidestination[1][destinationFlight]" type="hidden" value="" />
                </div>
            </div>
            <div class="multiple-destinations-wrapper col-md-12">
                <div class="col-md-6">
                    <div class="form-group form-group-sm form-group-icon-left"><i class="fa fa-calendar input-icon input-icon-highlight"></i>
                        <label>{{ 'index.search.flight.start' | trans }}</label>
                        <input class="form-control required departure" id="start-flight1" name="multidestination[1][start]" type="text" placeholder="dd/mm/yyyy"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 stretch">
            <label for="">
                <span class="pull-right">
                    <a id="remove-stretch" style="display: none;">{{ 'index.search.flight.remove_stretch' | trans}}</a>
                </span>
            </label>
        </div>
        <div class="col-md-12">
            <label for="">
                <span class="pull-right">
                    <a id="add-stretch" style="display: none;">{{ 'index.search.flight.add_stretch' | trans }}</a>
                </span>
            </label>
        </div>

        <div class="col-md-6">
            <div class="form-group form-group-sm">
                <label for="adultsPassengers">{{ 'index.search.hotel.adults' | trans }}</label>
                <select id="adultsPassengers" class="form-control coupled" name="adultsPassengers" data-couple="childrenPassengers.0">
                    <option value="1" selected="selected">1</option>
                    <option value="2" >2</option>
                    <option value="3" >3</option>
                    <option value="4" >4</option>
                    <option value="5" >5</option>
                    <option value="6" >6</option>
                    <option value="7" >7</option>
                    <option value="8" >8</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group form-group-sm">
                <label for="childrenPassengers">{{ 'index.search.hotel.childs' | trans }}</label>
                <select id="childrenPassengers" class="form-control coupled" name="childrenPassengers" data-couple="adultsPassengers.1">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
            </div>
        </div>
        <!--se abre si hay menores-->
        <div class="col-md-12 hidden" id="menorGroup">
            <div class="form-group form-group-sm">
                <label for="field-hotel-adult">{{ 'index.search.flight.childs_ages' | trans }}</label>
                <div class="row">
                    <div class="col-md-3 field-menor-1">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-1" class="form-control " name="field-menor-1">
                                <option value="">{{ 'index.search.flight.children' | trans }} 1</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-2">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-2" class="form-control " name="field-menor-2">
                                <option value="">{{ 'index.search.flight.children' | trans }} 2</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-3">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-3" class="form-control " name="field-menor-3">
                                <option value="">{{ 'index.search.flight.children' | trans }} 3</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-4">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-4" class="form-control " name="field-menor-4">
                                <option value="">{{ 'index.search.flight.children' | trans }} 4</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-5">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-5" class="form-control " name="field-menor-5">
                                <option value="">{{ 'index.search.flight.children' | trans }} 5</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-6">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-6" class="form-control " name="field-menor-6">
                                <option value="">{{ 'index.search.flight.children' | trans }} 6</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-3 field-menor-7">
                        <div class="form-group form-group-sm form-group-select-plus">
                            <select id="field-menor-7" class="form-control " name="field-menor-7">
                                <option value="">{{ 'index.search.flight.children' | trans }} 7</option>
                                <option value="M">{{ 'index.search.flight.0_24_arm' | trans }}</option>
                                <option value="I">{{ 'index.search.flight.0_24:seat' | trans }}</option>
                                <option value="C">{{ 'index.search.flight.2_11' | trans }}</option>
                                <option value="A">{{ 'index.search.flight.12_more' | trans }}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-right">
        <button class="btn btn-primary btn-lg" type="submit" id="submitFlight">{{ 'index.search_text' | trans }}</button>
    </div>
</form>

<div class="hide" id="searchFlightMsg">
    <h3 title="{{ 'index.search.flight.searching' | trans }} - VientoSur.net"><b>{{ 'index.search.flight.searching' | trans }}</b></h3>
    <div class="progress">
        <div class="progress-bar" id="flight_pb" role="progressbar" aria-valuenow="60"
             aria-valuemin="0" aria-valuemax="100" style="width: 1%;">
            <span class="sr-only"></span>
        </div>
    </div>
</div>